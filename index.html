<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Options Page</title>
    <script>
        // Import the JSON data
        const jsonData = {
            "LLM_Options": [
                "meta-llama/Llama-3.3-70B-Instruct",
                "AIDC-AI/Marco-o1",
                "deepseek-ai/DeepSeek-V2.5",
                "Tencent/Hunyuan-A52B-Instruct",
                "Qwen/Qwen2.5-72B-Instruct-128K",
                "Qwen/Qwen2.5-72B-Instruct",
                "Qwen/QwQ-32B-Preview",
                "Qwen/Qwen2.5-32B-Instruct",
                "Qwen/Qwen2.5-14B-Instruct",
                "Qwen/Qwen2.5-7B-Instruct",
                "Qwen/Qwen2.5-Math-72B-Instruct",
                "Qwen/Qwen2.5-Coder-32B-Instruct",
                "Qwen/Qwen2.5-Coder-7B-Instruct",
                "Qwen/Qwen2-7B-Instruct",
                "Qwen/Qwen2-1.5B-Instruct",
                "TeleAI/TeleChat2",
                "01-ai/Yi-1.5-34B-Chat-16K",
                "01-ai/Yi-1.5-9B-Chat-16K",
                "01-ai/Yi-1.5-6B-Chat",
                "THUDM/glm-4-9b-chat",
                "Vendor-A/Qwen/Qwen2.5-72B-Instruct",
                "internlm/internlm2_5-7b-chat",
                "internlm/internlm2_5-20b-chat",
                "nvidia/Llama-3.1-Nemotron-70B-Instruct",
                "meta-llama/Meta-Llama-3.1-405B-Instruct",
                "meta-llama/Meta-Llama-3.1-70B-Instruct",
                "meta-llama/Meta-Llama-3.1-8B-Instruct",
                "google/gemma-2-27b-it",
                "google/gemma-2-9b-it",
                "Pro/Qwen/Qwen2.5-7B-Instruct",
                "Pro/Qwen/Qwen2-7B-Instruct",
                "Pro/Qwen/Qwen2-1.5B-Instruct",
                "Pro/THUDM/chatglm3-6b",
                "Pro/THUDM/glm-4-9b-chat",
                "Pro/meta-llama/Meta-Llama-3.1-8B-Instruct",
                "Pro/google/gemma-2-9b-it"
            ],
            "VLM_Options": [
                "deepseek-ai/deepseek-vl2",
                "Qwen/Qwen2-VL-72B-Instruct",
                "OpenGVLab/InternVL2-26B",
                "Pro/Qwen/Qwen2-VL-7B-Instruct",
                "Pro/OpenGVLab/InternVL2-8B",
                "TeleAI/TeleMM"
            ],
            "Commercial_APIs": [
                "豆包",
                "秘塔",
                "kimi",
                "海螺",
                "智谱",
                "跃问"
            ]
        };

        // Function to display options dynamically
        function displayOptions() {
            const llmContainer = document.getElementById('llm-options');
            const vlmContainer = document.getElementById('vlm-options');
            const apiContainer = document.getElementById('commercial-apis');

            populateSection(llmContainer, jsonData.LLM_Options, "LLM");
            populateSection(vlmContainer, jsonData.VLM_Options, "VLM");
            populateSection(apiContainer, jsonData.Commercial_APIs, "API");
        }

        function populateSection(container, options, category) {
            options.forEach(option => {
                const listItem = document.createElement('li');
                listItem.textContent = option;

                const yesButton = document.createElement('button');
                yesButton.textContent = "Yes";
                yesButton.onclick = () => handleVote(category, option, "Yes");

                const noButton = document.createElement('button');
                noButton.textContent = "No";
                noButton.onclick = () => handleVote(category, option, "No");

                listItem.appendChild(yesButton);
                listItem.appendChild(noButton);
                container.appendChild(listItem);
            });
        }

        // Handle vote and store in local storage (simulate embedded DB)
        function handleVote(category, option, vote) {
            const storedVotes = JSON.parse(localStorage.getItem('votes')) || [];
            const newVote = { category, option, vote };
            storedVotes.push(newVote);
            localStorage.setItem('votes', JSON.stringify(storedVotes));

            alert(`You voted ${vote} for ${option}`);
            updateLeaderboard();
        }

        // Update leaderboard dynamically
        function updateLeaderboard() {
            const storedVotes = JSON.parse(localStorage.getItem('votes')) || [];
            const leaderboard = document.getElementById('leaderboard');
            leaderboard.textContent = `Votes Recorded: ${storedVotes.length}`;
        }

        // Export votes to CSV
        function exportToCSV() {
            const storedVotes = JSON.parse(localStorage.getItem('votes')) || [];
            const csvContent = "data:text/csv;charset=utf-8," + 
                ["Category,Option,Vote", ...storedVotes.map(v => `${v.category},${v.option},${v.vote}`)].join("\n");

            const link = document.createElement('a');
            link.setAttribute('href', encodeURI(csvContent));
            link.setAttribute('download', 'votes.csv');
            link.click();
        }

        // Initialize on page load
        window.onload = () => {
            displayOptions();
            updateLeaderboard();
        };
    </script>
</head>
<body>
    <h1>Options Page</h1>

    <section>
        <h2>LLM Options</h2>
        <ul id="llm-options"></ul>
    </section>

    <section>
        <h2>VLM Options</h2>
        <ul id="vlm-options"></ul>
    </section>

    <section>
        <h2>Commercial APIs</h2>
        <ul id="commercial-apis"></ul>
    </section>

    <section>
        <h2>Leaderboard</h2>
        <div id="leaderboard">Votes Recorded: 0</div>
    </section>

    <button onclick="exportToCSV()">Export Votes to CSV</button>
</body>
</html>
